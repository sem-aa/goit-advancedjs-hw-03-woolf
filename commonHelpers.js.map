{"version":3,"file":"commonHelpers.js","sources":["../src/api/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\r\nimport iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\naxios.defaults.headers.common['x-api-key'] =\r\n  'live_orVDa3IvB5a9w66JkIgkaLVIAsDwfWdIdg0xilkcVZmm25AczpqyMBNvJubHNM0S';\r\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1/';\r\n\r\nconst errorMsg = error =>\r\n  iziToast.show({\r\n    title: 'Error',\r\n    message: error.message,\r\n    position: 'center',\r\n    color: 'red',\r\n  });\r\n\r\nexport const fetchBreeds = () =>\r\n  axios\r\n    .get('breeds')\r\n    .then(res => res.data)\r\n    .catch(errorMsg);\r\n\r\nexport const fetchCatByBreed = breedId =>\r\n  axios\r\n    .get(`images/search?breed_ids=${breedId}`)\r\n    .then(res => res.data)\r\n    .catch(errorMsg);\r\n","import { fetchBreeds, fetchCatByBreed } from './api/cat-api';\r\n\r\nconst select = document.querySelector('.breed-select');\r\n\r\nconst catInfo = document.querySelector('.cat-info');\r\nconst loader = document.querySelector('.loader');\r\n\r\nfunction showElement(element) {\r\n  element.style.display = 'block';\r\n}\r\n\r\nfunction hideElement(element) {\r\n  element.style.display = 'none';\r\n}\r\n\r\nshowElement(loader);\r\nhideElement(catInfo);\r\nhideElement(select);\r\n\r\nfetchBreeds()\r\n  .then(data => {\r\n    data?.forEach(cat => {\r\n      const option = document.createElement('option');\r\n      option.value = cat.id;\r\n      option.text = cat.name;\r\n      select.appendChild(option);\r\n      showElement(select);\r\n    });\r\n  })\r\n  .catch(hideElement(select))\r\n  .finally(hideElement(loader));\r\n\r\nselect.addEventListener('change', () => {\r\n  showElement(loader);\r\n  hideElement(catInfo);\r\n\r\n  fetchCatByBreed(select.value)\r\n    .then(data => {\r\n      showElement(catInfo);\r\n      const catMarkup = `\r\n        <h3>${data[0].breeds[0].name}</h3>\r\n        <h4>${data[0].breeds[0].temperament}</h4>\r\n        <p>${data[0].breeds[0].description}</p>\r\n        <img src=${data[0].url} alt=${data[0].breeds[0].name} width=400 />`;\r\n\r\n      catInfo.insertAdjacentHTML('afterbegin', catMarkup);\r\n    })\r\n    .catch(() => hideElement(catInfo))\r\n    .finally(() => hideElement(loader));\r\n});\r\n"],"names":["axios","errorMsg","error","iziToast","fetchBreeds","res","fetchCatByBreed","breedId","select","catInfo","loader","showElement","element","hideElement","data","cat","option","catMarkup"],"mappings":"6vBAIAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEACFA,EAAM,SAAS,QAAU,gCAEzB,MAAMC,EAAWC,GACfC,EAAS,KAAK,CACZ,MAAO,QACP,QAASD,EAAM,QACf,SAAU,SACV,MAAO,KACX,CAAG,EAEUE,EAAc,IACzBJ,EACG,IAAI,QAAQ,EACZ,KAAKK,GAAOA,EAAI,IAAI,EACpB,MAAMJ,CAAQ,EAENK,EAAkBC,GAC7BP,EACG,IAAI,2BAA2BO,GAAS,EACxC,KAAKF,GAAOA,EAAI,IAAI,EACpB,MAAMJ,CAAQ,ECxBbO,EAAS,SAAS,cAAc,eAAe,EAE/CC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAAYC,EAAS,CAC5BA,EAAQ,MAAM,QAAU,OAC1B,CAEA,SAASC,EAAYD,EAAS,CAC5BA,EAAQ,MAAM,QAAU,MAC1B,CAEAD,EAAYD,CAAM,EAClBG,EAAYJ,CAAO,EACnBI,EAAYL,CAAM,EAElBJ,EAAa,EACV,KAAKU,GAAQ,CACZA,GAAA,MAAAA,EAAM,QAAQC,GAAO,CACnB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAI,GACnBC,EAAO,KAAOD,EAAI,KAClBP,EAAO,YAAYQ,CAAM,EACzBL,EAAYH,CAAM,CACxB,EACA,CAAG,EACA,MAAMK,EAAYL,CAAM,CAAC,EACzB,QAAQK,EAAYH,CAAM,CAAC,EAE9BF,EAAO,iBAAiB,SAAU,IAAM,CACtCG,EAAYD,CAAM,EAClBG,EAAYJ,CAAO,EAEnBH,EAAgBE,EAAO,KAAK,EACzB,KAAKM,GAAQ,CACZH,EAAYF,CAAO,EACnB,MAAMQ,EAAY;AAAA,cACVH,EAAK,GAAG,OAAO,GAAG;AAAA,cAClBA,EAAK,GAAG,OAAO,GAAG;AAAA,aACnBA,EAAK,GAAG,OAAO,GAAG;AAAA,mBACZA,EAAK,GAAG,WAAWA,EAAK,GAAG,OAAO,GAAG,oBAElDL,EAAQ,mBAAmB,aAAcQ,CAAS,CACxD,CAAK,EACA,MAAM,IAAMJ,EAAYJ,CAAO,CAAC,EAChC,QAAQ,IAAMI,EAAYH,CAAM,CAAC,CACtC,CAAC"}